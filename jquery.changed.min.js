(function(d,k,l){var i={},e=function(a){a=d(a);var b=a.data("changedData")||{};a.data("changedData",b);return b},g=function(a){return!a.is("[type=radio],[type=checkbox]")||a.is(":checked")?a.val():undefined},f=function(){var a=d(this),b=g(a);a.trigger("changed",[b])},m=function(){var a=d(this),b=e(a),c=g(a);if(c!==b.value){b.value=c;f.call(a)}},j=function(a){var b=a.closest("form,body");b=e(b);var c,h=a.attr("name");if(h in b){c=b[h];f.call(c)}b[h]=a},n=function(){var a=d(this);e(this);j(a);f.call(this)};
k.changed=function(a,b){if(d.isFunction(b))this.bind("changed",a,b);else d.isFunction(a)&&this.bind("changed",a)};l.changed={setup:function(){var a=d(this),b={events:"change"};if(a.is("[type=checkbox],[type=hidden],select"))b.handler=f;else if(a.is("[type=radio]")){a.is(":checked")&&j(a);b.handler=n}else if(a.is("[type=text],[type=password],textarea")){b.value=g(a);b.events="input paste keyup";b.handler=m}a.data("changedData",b);a.bind(b.events,b.handler)},teardown:function(){var a=d(this),b=e(a);
if(a.is("[type=radio]:checked")){var c=a.closest("form,body");e(c);c=a.attr("name");c in i&&delete i[c]}a.removeData("changedData");a.unbind(b.events,b.handler)}}})(jQuery,jQuery.fn,jQuery.event.special);
